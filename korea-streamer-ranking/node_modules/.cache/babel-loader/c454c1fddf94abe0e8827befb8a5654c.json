{"ast":null,"code":"\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.EmulationManager = void 0;\n\nclass EmulationManager {\n  constructor(client) {\n    this._emulatingMobile = false;\n    this._hasTouch = false;\n    this._client = client;\n  }\n\n  async emulateViewport(viewport) {\n    const mobile = viewport.isMobile || false;\n    const width = viewport.width;\n    const height = viewport.height;\n    const deviceScaleFactor = viewport.deviceScaleFactor || 1;\n    const screenOrientation = viewport.isLandscape ? {\n      angle: 90,\n      type: 'landscapePrimary'\n    } : {\n      angle: 0,\n      type: 'portraitPrimary'\n    };\n    const hasTouch = viewport.hasTouch || false;\n    await Promise.all([this._client.send('Emulation.setDeviceMetricsOverride', {\n      mobile,\n      width,\n      height,\n      deviceScaleFactor,\n      screenOrientation\n    }), this._client.send('Emulation.setTouchEmulationEnabled', {\n      enabled: hasTouch\n    })]);\n    const reloadNeeded = this._emulatingMobile !== mobile || this._hasTouch !== hasTouch;\n    this._emulatingMobile = mobile;\n    this._hasTouch = hasTouch;\n    return reloadNeeded;\n  }\n\n}\n\nexports.EmulationManager = EmulationManager;","map":{"version":3,"mappings":";;;;;;;AAmBA,MAAaA,gBAAb,CAA6B;EAK3BC,YAAYC,MAAZ,EAA8B;IAH9B,wBAAmB,KAAnB;IACA,iBAAY,KAAZ;IAGE,KAAKC,OAAL,GAAeD,MAAf;EACD;;EAEoB,MAAfE,eAAe,CAACC,QAAD,EAAmB;IACtC,MAAMC,MAAM,GAAGD,QAAQ,CAACE,QAAT,IAAqB,KAApC;IACA,MAAMC,KAAK,GAAGH,QAAQ,CAACG,KAAvB;IACA,MAAMC,MAAM,GAAGJ,QAAQ,CAACI,MAAxB;IACA,MAAMC,iBAAiB,GAAGL,QAAQ,CAACK,iBAAT,IAA8B,CAAxD;IACA,MAAMC,iBAAiB,GACrBN,QAAQ,CAACO,WAAT,GACI;MAAEC,KAAK,EAAE,EAAT;MAAaC,IAAI,EAAE;IAAnB,CADJ,GAEI;MAAED,KAAK,EAAE,CAAT;MAAYC,IAAI,EAAE;IAAlB,CAHN;IAIA,MAAMC,QAAQ,GAAGV,QAAQ,CAACU,QAAT,IAAqB,KAAtC;IAEA,MAAMC,OAAO,CAACC,GAAR,CAAY,CAChB,KAAKd,OAAL,CAAae,IAAb,CAAkB,oCAAlB,EAAwD;MACtDZ,MADsD;MAEtDE,KAFsD;MAGtDC,MAHsD;MAItDC,iBAJsD;MAKtDC;IALsD,CAAxD,CADgB,EAQhB,KAAKR,OAAL,CAAae,IAAb,CAAkB,oCAAlB,EAAwD;MACtDC,OAAO,EAAEJ;IAD6C,CAAxD,CARgB,CAAZ,CAAN;IAaA,MAAMK,YAAY,GAChB,KAAKC,gBAAL,KAA0Bf,MAA1B,IAAoC,KAAKgB,SAAL,KAAmBP,QADzD;IAEA,KAAKM,gBAAL,GAAwBf,MAAxB;IACA,KAAKgB,SAAL,GAAiBP,QAAjB;IACA,OAAOK,YAAP;EACD;;AAtC0B;;AAA7BG","names":["EmulationManager","constructor","client","_client","emulateViewport","viewport","mobile","isMobile","width","height","deviceScaleFactor","screenOrientation","isLandscape","angle","type","hasTouch","Promise","all","send","enabled","reloadNeeded","_emulatingMobile","_hasTouch","exports"],"sources":["../../../../src/common/EmulationManager.ts"],"sourcesContent":[null]},"metadata":{},"sourceType":"script"}